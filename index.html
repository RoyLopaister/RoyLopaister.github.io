<!doctype html>
<html style="height: 100%;"lang="en-US" xmlns:fb="https://www.facebook.com/2008/fbml" xmlns:addthis="https://www.addthis.com/help/api-spec"  prefix="og: http://ogp.me/ns#" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Roy</title>
	<!-- <link rel="shortcut icon" href="https://learncodeweb.com/demo/favicon.ico"> -->
	<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous"> -->
	<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous"> -->
	<!-- <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->
	<script>
	  (adsbygoogle = window.adsbygoogle || []).push({
		google_ad_client: "ca-pub-6724419004010752",
		enable_page_level_ads: true
	  });
	</script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131906273-1"></script>
	<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	  gtag('config', 'UA-131906273-1');
	</script>
	<style>
		.button {
              background-color:gray; /* Green */
              border: none;
              color: white;
              padding: 10px 20px;
              text-align: center;
              text-decoration: none;
              display: inline-block;
              font-size: 20px;
              border-radius: 25px;
              margin: 0px;
			  width: 100%;
            }
		.occ{
			
		}
	</style>
</head>

<body style="height: 100%; margin: 0px; background-color: rgb(17, 17, 17);">
	<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	<div  style="background-color: black; "align="center">
		<h1 style=" color: white; display: inline-block;"onclick="restart()" >SEAL</h1>
	 </div>
	<div  class="container-fluid">	
			<div >
				<script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
				<div>
					<video id="preview" style="display:none;width:100%; height: 100%"></video>
					<button id = "openc" class="button" style="background-color:black;display:block;padding: 0px; "onclick="opencamera()">開啟相機</button>
					<button id = "closec" class="button" style="background-color:black;display:none;padding: 0px;"onclick="closecamera()">關閉相機</button>
				</div>
			</div>
			 <button id = "led" class="button" style="padding: 0px; font-size: 50px;">今日體溫</button> 
	</div>
	<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
	<script type="text/javascript">
		function restart(){
			i.innerHTML="今日體溫";
			i.style.backgroundColor='gray';
		}
		var i= document.getElementById('led');
		function okay(temp){
			i.style.backgroundColor='green';
			i.innerHTML=temp;
		}
		function nono(temp){
			i.style.backgroundColor='red';
			i.innerHTML=temp;
		}
		function closecamera(){
			document.getElementById('preview').style.display="none";
			document.getElementById('openc').style.display="block";
			document.getElementById('closec').style.display="none";
		}
		function opencamera(){
			document.getElementById('preview').style.display="block";
			document.getElementById('openc').style.display="none";
			document.getElementById('closec').style.display="block";
			var scanner = new Instascan.Scanner({ video: document.getElementById('preview'), scanPeriod: 5, mirror: true });
			scanner.addListener('scan',function(content){
				// alert(content);
				if(content>38){
					nono(content);
				}else{
					okay(content);
				}	
				//window.location.href=content;
				});
				Instascan.Camera.getCameras().then(function (cameras){
					if(cameras.length>0){
						scanner.start(cameras[0]);
						$('[name="options"]').on('change',function(){
							if($(this).val()==1){
								if(cameras[0]!=""){
									scanner.start(cameras[0]);
								}else{
									alert('No Front camera found!');
								}
							}else if($(this).val()==2){
								if(cameras[1]!=""){
									scanner.start(cameras[1]);
								}else{
									alert('No Back camera found!');
								}
							}
						});
					}else{
						console.error('No cameras found.');
						alert('No cameras found.');
					}
				}).catch(function(e){
					console.error(e);
					alert(e);
				});
		}
		Highcharts.chart('container', {
			chart: {
			backgroundColor: 'black',
				type: 'area',
				zoomType: 'x'
			},
			data: {
				// enablePolling: true,
				// csvURL: window.location.origin + '/data.csv'
				data:[35.7,40]
			},
			title: {
				text: 'Your PPG Data',
				color: '#000000'
			},
			xAxis:{
			type: 'number',
			},
			yAxis: {
			gridLineColor: '#979797',
			gridLineWidth:0,
				title: {
				text: 'Value'
				}
			},
			plotOptions: {
			area: {
					fillColor: {
					linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1},
					stops: [
						[0, Highcharts.getOptions().colors[0]],
						[1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
					]
					},
					marker: {
					radius: 2
					},
					lineWidth: 1,
					states: {
					hover: {
						lineWidth: 1
					}
					},
					threshold: null
					
				}
			}
		});
		</script>
		<!-- <div class="col-sm-3">
			<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			demo left sidebar
			<ins class="adsbygoogle"
				 style="display:block"
				 data-ad-client="ca-pub-6724419004010752"
				 data-ad-slot="7706376079"
				 data-ad-format="auto"
				 data-full-width-responsive="true"></ins>
			<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
			</script>
		</div> -->
			<!-- <div class="btn-group btn-group-toggle mb-5" data-toggle="buttons">
			<label class="btn btn-primary active">
				<input type="button" name="options" value="1" autocomplete="off" checked> Front Camera
			</label>
			<label class="btn btn-secondary">
				<input type="button" name="options" value="2" autocomplete="off"> Back Camera
			</label>
			</div> -->
</body>
</html>
